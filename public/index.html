<!doctype html>
<html ng-app="treeApp">
<head>
	
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="apple-mobile-web-app-capable" content="yes">
	
	
	<!-- Angular -->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.11/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0-beta.1/angular-animate.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.11/angular-touch.js"></script>
	<script src="ngswipe.js"></script>		
	
	<!-- Google Maps API -->
	<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBEUmbq9MBRp2BlXsEKqBCQpaYvhMtmna8"></script>
	<!-- FontAwesome -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
	
	<!-- jQuery -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	
	<!-- Site-specific styles -->
	<link rel="stylesheet" href="styles.css" />
	
</head>

<body ng-controller="treeController">

	<div class="section" id="intro" ng-class="{slidUp: onStage == 'directions', onStage: onStage == 'search', slidDown: onStage == 'about'}" ng-swipe-left="onStage='directions'" ng-swipe-right="onStage='about'">
			<h1 class="title" on-top above="centered" margin-bottom="20">Cherrypicker</h1>
			<div id="centered" class = "flip-container" style="width:300px; height:300px" center-x center-y ng-class="{flip: flipped}" ng-click="getTree()">
				<div class = "flipper" >
					<div class = "front roundButton" center-x center-y>
						
						<!-- Main screen -->
						<div class = "text" center-x center-y ng-hide="loaded">
							<div class="tree">A</div>
						</div>
						
						<!-- Results -->
						<div style="height:100%; position:relative" ng-show="loaded">
							<div class="tree small" on-top above="distance">A</div>
							<h2 id="distance" center-x center-y>{{result.distance}} feet</h2>
							<h3 on-bottom below="distance">{{result.vicinity}}</h3>
						</div>
						
					</div>
				
					<!-- Searching -->
					<div class = "back roundButton" center-x center-y>
						<div class = "text" center-x center-y>
							<h3>searching</h3>
						</div>
					</div>
				</div>
				
			</div>
			<h3 on-bottom below="centered" class="nondescript-text" style="margin-top:20px">{{(loaded == true) ? "Swipe left to get directions. Swipe right to learn more about this app." : "Tap to find a tree."}}</h3>
	</div>

	<div class="section" id="directions" ng-class="{slidDown: onStage == 'search' || onStage == 'about', onStage: onStage == 'directions'}" ng-swipe-right="onStage='search'">
		<h3 class="nondescript-text" style="margin:10px 0px">Swipe right to go back to your tree.</h3>
		<h1 class="title">directions</h1>
		<ol>
			<li ng-repeat="step in route.legs[0].steps">
				<div ng-bind-html="renderHTML(step.instructions)" style="margin-bottom:10px"></div>
				<img ng-src="http://maps.googleapis.com/maps/api/staticmap?size=250x250&key=AIzaSyBEUmbq9MBRp2BlXsEKqBCQpaYvhMtmna8&path=enc:{{step.encoded_lat_lngs}}" />
			</li>
		</ol>
		
	</div>
	
	<div class="section" id="about" ng-class="{slidUp: onStage == 'search' || onStage == 'directions', onStage: onStage == 'directions'}" ng-swipe-left="onStage='search'">
		<h3 class="nondescript-text" style="margin:10px 0px">Swipe left to go back to your tree.</h3>
		<h1 class="title" ng-class="{slidUp: onStage == 'search', onStage: onStage == 'about'}">about</h1>
		<div class = "text">
			<p><strong>Cherrypicker</strong> tells you the location of the nearest cherry tree in Washington, D.C.</p>
			<p>It can do this thanks to the DC Office of the Chief Technology Officer, which maintains a <a  href="http://opendata.dc.gov/datasets/d6364e8d068e4e558c82040569f5d33a_23">GIS shapefile</a> of every street tree in the district.</p>
			<p>This app does not include the cherry trees at the Tidal Basin. You can read more about those <a href="http://www.nps.gov/cherry/cherry-blossom-history.htm">here</a>.
			<p>Created by <a href="http://twitter.com/andrewmcgill">Andrew McGill</a> at <a href="http://www.nationaljournal.com/">National Journal</a>.</p>
		</div>
	</div>
	
</body>

<script src="app.js"></script>

</html>